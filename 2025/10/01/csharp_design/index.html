<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>C# Design Patterns-Complete Guide with Code | SPARKLE</title><meta name="keywords" content="c#"><meta name="author" content="sparkle520"><meta name="copyright" content="sparkle520"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="C# Design Patterns-Complete Guide with Code"><meta name="application-name" content="C# Design Patterns-Complete Guide with Code"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="C# Design Patterns-Complete Guide with Code"><meta property="og:url" content="http://example.com/2025/10/01/csharp_design/index.html"><meta property="og:site_name" content="SPARKLE"><meta property="og:description" content="C# Design Patterns - Complete Guide with Code I&amp;#39;ll cover the most important design patterns with complete, working C# examples. Singleton Pattern"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://pic1.imgdb.cn/item/6906119e3203f7be00bfb68a.png"><meta property="article:author" content="sparkle520"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://pic1.imgdb.cn/item/6906119e3203f7be00bfb68a.png"><meta name="description" content="C# Design Patterns - Complete Guide with Code I&amp;#39;ll cover the most important design patterns with complete, working C# examples. Singleton Pattern"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/2025/10/01/csharp_design/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: {"enable":true,"leaveTitle":"w(ï¾ŸĞ”ï¾Ÿ)w ä¸è¦èµ°ï¼å†çœ‹çœ‹å˜›ï¼","backTitle":"â™ª(^âˆ‡^*)æ¬¢è¿è‚¥æ¥ï¼"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"æ™šä¸Šå¥½ğŸ‘‹","list":[{"greeting":"æ™šå®‰ğŸ˜´","startTime":0,"endTime":5},{"greeting":"æ—©ä¸Šå¥½é¸­ğŸ‘‹, ç¥ä½ ä¸€å¤©å¥½å¿ƒæƒ…ï¼","startTime":6,"endTime":9},{"greeting":"ä¸Šåˆå¥½ğŸ‘‹, çŠ¶æ€å¾ˆå¥½ï¼Œé¼“åŠ±ä¸€ä¸‹ï½","startTime":10,"endTime":10},{"greeting":"11ç‚¹å¤šå•¦, åœ¨åšæŒä¸€ä¸‹å°±åƒé¥­å•¦ï½","startTime":11,"endTime":11},{"greeting":"åˆå®‰ğŸ‘‹, å®è´","startTime":12,"endTime":14},{"greeting":"ğŸŒˆå……å®çš„ä¸€å¤©è¾›è‹¦å•¦ï¼","startTime":14,"endTime":18},{"greeting":"19ç‚¹å–½, å¥–åŠ±ä¸€é¡¿ä¸°ç››çš„å¤§é¤å§ğŸ”ã€‚","startTime":19,"endTime":19},{"greeting":"æ™šä¸Šå¥½ğŸ‘‹, åœ¨å±äºè‡ªå·±çš„æ—¶é—´å¥½å¥½æ”¾æ¾ğŸ˜Œ~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://sparkle521.xyz',
  commentBarrageConfig:{"enable":true,"maxBarrage":1,"barrageTime":4000,"accessToken":"","mailMd5":""},
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["(â¤ Ï‰ â¤)"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€","rightMenuMsgToTraditionalChinese":"è½¬ä¸ºç¹ä½“","rightMenuMsgToSimplifiedChinese":"è½¬ä¸ºç®€ä½“"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"ä½œè€…: sparkle520","link":"é“¾æ¥: ","source":"æ¥æº: SPARKLE","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","copySuccess":"å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#883ced","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'SPARKLE',
  title: 'C# Design Patterns-Complete Guide with Code',
  postAI: '',
  pageFillDescription: 'Singleton Pattern, Factory Pattern, Observer Pattern, Strategy Pattern, Decorator Pattern, Repository Pattern, Adapter Pattern, Builder Pattern, Dependency Injection Pattern, Command Pattern, Facade Pattern, Template Method Pattern, State Pattern, Summary, Creational Patterns, Structural Patterns, Behavioral Patterns, Architectural Patterns',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-01 21:58:42',
  postMainColor: '#FB923C',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.min.css"><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="https://pic.imgdb.cn/item/65b6b29c871b83018af70c9a.png"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/sparkle520?tab=repositories" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="github"/><span class="back-menu-item-text">github</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">SPARKLE</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> å°ç©ºè°ƒ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> æœç´¢</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="å¾®ä¿¡" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="æ”¯ä»˜å®" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> æœ€æ–°è¯„è®º</span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size: 1.05rem;">408<sup>6</sup></a><a href="/tags/AOP/" style="font-size: 1.05rem;">AOP<sup>1</sup></a><a href="/tags/Deep-Learning/" style="font-size: 1.05rem;">Deep Learning<sup>1</sup></a><a href="/tags/IoC/" style="font-size: 1.05rem;">IoC<sup>1</sup></a><a href="/tags/JSR303/" style="font-size: 1.05rem;">JSR303<sup>1</sup></a><a href="/tags/Matplotlib/" style="font-size: 1.05rem;">Matplotlib<sup>3</sup></a><a href="/tags/Mermaid/" style="font-size: 1.05rem;">Mermaid<sup>3</sup></a><a href="/tags/c/" style="font-size: 1.05rem;">c#<sup>2</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>4</sup></a><a href="/tags/npc%E5%88%86%E6%9E%90%E6%B3%95/" style="font-size: 1.05rem;">npcåˆ†ææ³•<sup>1</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>5</sup></a><a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.05rem;">äº‹åŠ¡<sup>1</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%82/" style="font-size: 1.05rem;">ä½ çš„åå­—ã€‚<sup>3</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E5%90%8C%E5%90%8D%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">ä½ çš„åå­—åŒåå°è¯´<sup>1</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E5%A4%96%E4%BC%A0%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">ä½ çš„åå­—å¤–ä¼ å°è¯´<sup>1</sup></a><a href="/tags/%E5%86%99%E4%BD%9C/" style="font-size: 1.05rem;">å†™ä½œ<sup>4</sup></a><a href="/tags/%E5%8C%85%E7%AE%A1%E7%90%86/" style="font-size: 1.05rem;">åŒ…ç®¡ç†<sup>1</sup></a><a href="/tags/%E5%8D%B7%E7%A7%AF%E5%85%AC%E5%BC%8F/" style="font-size: 1.05rem;">å·ç§¯å…¬å¼<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%B0%94%E4%B9%8B%E5%AD%90/" style="font-size: 1.05rem;">å¤©æ°”ä¹‹å­<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%B0%94%E4%B9%8B%E5%AD%90%E5%90%8C%E5%90%8D%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">å¤©æ°”ä¹‹å­åŒåå°è¯´<sup>1</sup></a><a href="/tags/%E5%AE%9A%E7%A7%AF%E5%88%86/" style="font-size: 1.05rem;">å®šç§¯åˆ†<sup>1</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 1.05rem;">å°è¯´<sup>3</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">æ“ä½œç³»ç»Ÿ<sup>5</sup></a><a href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">æ•ˆç‡å·¥å…·<sup>3</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C/" style="font-size: 1.05rem;">æ•°æ®æ ¡éªŒ<sup>1</sup></a><a href="/tags/%E6%97%B6%E5%BA%8F%E5%9B%BE/" style="font-size: 1.05rem;">æ—¶åºå›¾<sup>1</sup></a><a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/" style="font-size: 1.05rem;">æ¦‚ç‡è®º<sup>1</sup></a><a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/" style="font-size: 1.05rem;">æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡<sup>7</sup></a><a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 1.05rem;">æ±‡ç¼–<sup>9</sup></a><a href="/tags/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80/" style="font-size: 1.05rem;">æ³°å‹’å±•å¼€<sup>1</sup></a><a href="/tags/%E6%B5%81%E7%A8%8B%E5%9B%BE/" style="font-size: 1.05rem;">æµç¨‹å›¾<sup>1</sup></a><a href="/tags/%E7%89%B9%E5%BE%81%E5%80%BC/" style="font-size: 1.05rem;">ç‰¹å¾å€¼<sup>1</sup></a><a href="/tags/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F/" style="font-size: 1.05rem;">ç‰¹å¾å‘é‡<sup>1</sup></a><a href="/tags/%E7%94%98%E7%89%B9%E5%9B%BE/" style="font-size: 1.05rem;">ç”˜ç‰¹å›¾<sup>1</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 1.05rem;">è‹±è¯­<sup>2</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 1.05rem;">è‹±è¯­è¯­æ³•<sup>11</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%80%92%E8%A3%85%E7%BB%93%E6%9E%84%EF%BC%8C%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6/" style="font-size: 1.05rem;">è‹±è¯­è¯­æ³•ï¼Œå€’è£…ç»“æ„ï¼Œè¯­æ³•è¿›é˜¶<sup>1</sup></a><a href="/tags/%E8%AF%8D%E6%A0%B9%E8%AF%8D%E7%BC%80/" style="font-size: 1.05rem;">è¯æ ¹è¯ç¼€<sup>1</sup></a><a href="/tags/%E9%AB%98%E7%AD%89%E4%BB%A3%E6%95%B0/" style="font-size: 1.05rem;">é«˜ç­‰ä»£æ•°<sup>2</sup></a><a href="/tags/%E9%AB%98%E7%AD%89%E6%95%B0%E5%AD%A6/" style="font-size: 1.05rem;">é«˜ç­‰æ•°å­¦<sup>8</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span><a class="card-more-btn" href="/archives/" title="æŸ¥çœ‹æ›´å¤š">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">åäºŒæœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">18</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">åä¸€æœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">åæœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">ä¹æœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">å…«æœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">å…­æœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url">è®¡ç®—æœº</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/c/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>c#</span></a></span></div></div><h1 class="post-title" itemprop="name headline">C# Design Patterns-Complete Guide with Code</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-10-01T15:00:27.000Z" title="å‘è¡¨äº 2025-10-01 23:00:27">2025-10-01</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-11-01T13:58:42.307Z" title="æ›´æ–°äº 2025-11-01 21:58:42">2025-11-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="æ–‡ç« å­—æ•°"></i><span class="post-meta-label" title="æ–‡ç« å­—æ•°">å­—æ•°æ€»è®¡:</span><span class="word-count" title="æ–‡ç« å­—æ•°">4.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="é˜…è¯»æ—¶é•¿"></i><span class="post-meta-label" title="é˜…è¯»æ—¶é•¿">é˜…è¯»æ—¶é•¿:</span><span>26åˆ†é’Ÿ</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="C# Design Patterns-Complete Guide with Code"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="é˜…è¯»é‡">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºç³»å®ˆé•‡"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>ç³»å®ˆé•‡</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/2025/10/01/csharp_design/#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://pic1.imgdb.cn/item/6906119e3203f7be00bfb68a.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/10/01/csharp_design/"><header><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/" itemprop="url">è®¡ç®—æœº</a><a href="/tags/c/" tabindex="-1" itemprop="url">c#</a><h1 id="CrawlerTitle" itemprop="name headline">C# Design Patterns-Complete Guide with Code</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">sparkle520</span><time itemprop="dateCreated datePublished" datetime="2025-10-01T15:00:27.000Z" title="å‘è¡¨äº 2025-10-01 23:00:27">2025-10-01</time><time itemprop="dateCreated datePublished" datetime="2025-11-01T13:58:42.307Z" title="æ›´æ–°äº 2025-11-01 21:58:42">2025-11-01</time></header><h1 id="c-design-patterns---complete-guide-with-code">C# Design Patterns
- Complete Guide with Code</h1>
<p>I'll cover the most important design patterns with complete, working
C# examples.</p>
<h1 id="singleton-pattern">Singleton Pattern</h1>
<p>Ensures a class has only one instance and provides a global access
point.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Thread-safe Singleton using Lazy&lt;T&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">DatabaseConnection</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Lazy&lt;DatabaseConnection&gt; lazy = </span><br><span class="line">        <span class="keyword">new</span> Lazy&lt;DatabaseConnection&gt;(() =&gt; <span class="keyword">new</span> DatabaseConnection());</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> DatabaseConnection Instance =&gt; lazy.Value;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> connectionString;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">DatabaseConnection</span>()</span></span><br><span class="line">    {</span><br><span class="line">        connectionString = <span class="string">"Server=localhost;Database=MyDb;"</span>;</span><br><span class="line">        Console.WriteLine(<span class="string">"Database connection initialized"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Query</span>(<span class="params"><span class="built_in">string</span> sql</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Executing: <span class="subst">{sql}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> db1 = DatabaseConnection.Instance;</span><br><span class="line">        <span class="keyword">var</span> db2 = DatabaseConnection.Instance;</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">$"Same instance? <span class="subst">{ReferenceEquals(db1, db2)}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        db1.Query(<span class="string">"SELECT * FROM Users"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="factory-pattern">Factory Pattern</h2>
<p>Creates objects without specifying their exact class.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Product interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">INotification</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Send</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete products</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EmailNotification</span> : <span class="title">INotification</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Send</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Sending Email: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SmsNotification</span> : <span class="title">INotification</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Send</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Sending SMS: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PushNotification</span> : <span class="title">INotification</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Send</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Sending Push: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Factory</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NotificationFactory</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> INotification <span class="title">CreateNotification</span>(<span class="params"><span class="built_in">string</span> type</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> type.ToLower() <span class="keyword">switch</span></span><br><span class="line">        {</span><br><span class="line">            <span class="string">"email"</span> =&gt; <span class="keyword">new</span> EmailNotification(),</span><br><span class="line">            <span class="string">"sms"</span> =&gt; <span class="keyword">new</span> SmsNotification(),</span><br><span class="line">            <span class="string">"push"</span> =&gt; <span class="keyword">new</span> PushNotification(),</span><br><span class="line">            _ =&gt; <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">$"Unknown notification type: <span class="subst">{type}</span>"</span>)</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> email = NotificationFactory.CreateNotification(<span class="string">"email"</span>);</span><br><span class="line">        email.Send(<span class="string">"Welcome to our service!"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> sms = NotificationFactory.CreateNotification(<span class="string">"sms"</span>);</span><br><span class="line">        sms.Send(<span class="string">"Your code is 1234"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> push = NotificationFactory.CreateNotification(<span class="string">"push"</span>);</span><br><span class="line">        push.Send(<span class="string">"You have a new message"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="observer-pattern">Observer Pattern</h2>
<p>Defines a one-to-many dependency where observers are notified of
state changes.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Observer interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IObserver</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Subject interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ISubject</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Attach</span>(<span class="params">IObserver observer</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Detach</span>(<span class="params">IObserver observer</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Notify</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Subject</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewsAgency</span> : <span class="title">ISubject</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> List&lt;IObserver&gt; observers = <span class="keyword">new</span> List&lt;IObserver&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> latestNews;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> LatestNews</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">get</span> =&gt; latestNews;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        {</span><br><span class="line">            latestNews = <span class="keyword">value</span>;</span><br><span class="line">            Notify();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Attach</span>(<span class="params">IObserver observer</span>)</span></span><br><span class="line">    {</span><br><span class="line">        observers.Add(observer);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Observer attached. Total: <span class="subst">{observers.Count}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Detach</span>(<span class="params">IObserver observer</span>)</span></span><br><span class="line">    {</span><br><span class="line">        observers.Remove(observer);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Observer detached. Total: <span class="subst">{observers.Count}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Notify</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> observer <span class="keyword">in</span> observers)</span><br><span class="line">        {</span><br><span class="line">            observer.Update(latestNews);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Observers</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewsChannel</span> : <span class="title">IObserver</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NewsChannel</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"[<span class="subst">{name}</span>] Breaking News: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewsSubscriber</span> : <span class="title">IObserver</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> email;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NewsSubscriber</span>(<span class="params"><span class="built_in">string</span> email</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Email to <span class="subst">{email}</span>: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> agency = <span class="keyword">new</span> NewsAgency();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> cnn = <span class="keyword">new</span> NewsChannel(<span class="string">"CNN"</span>);</span><br><span class="line">        <span class="keyword">var</span> bbc = <span class="keyword">new</span> NewsChannel(<span class="string">"BBC"</span>);</span><br><span class="line">        <span class="keyword">var</span> subscriber = <span class="keyword">new</span> NewsSubscriber(<span class="string">"user@example.com"</span>);</span><br><span class="line">        </span><br><span class="line">        agency.Attach(cnn);</span><br><span class="line">        agency.Attach(bbc);</span><br><span class="line">        agency.Attach(subscriber);</span><br><span class="line">        </span><br><span class="line">        agency.LatestNews = <span class="string">"Stock market hits record high!"</span>;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        </span><br><span class="line">        agency.Detach(bbc);</span><br><span class="line">        agency.LatestNews = <span class="string">"New tech breakthrough announced!"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="strategy-pattern">Strategy Pattern</h2>
<p>Defines a family of algorithms and makes them interchangeable.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Strategy interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IPaymentStrategy</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete strategies</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CreditCardPayment</span> : <span class="title">IPaymentStrategy</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> cardNumber;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> cvv;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CreditCardPayment</span>(<span class="params"><span class="built_in">string</span> cardNumber, <span class="built_in">string</span> cvv</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.cardNumber = cardNumber;</span><br><span class="line">        <span class="keyword">this</span>.cvv = cvv;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Paid $<span class="subst">{amount}</span> using Credit Card ending in <span class="subst">{cardNumber.Substring(cardNumber.Length - <span class="number">4</span>)}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PayPalPayment</span> : <span class="title">IPaymentStrategy</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> email;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PayPalPayment</span>(<span class="params"><span class="built_in">string</span> email</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.email = email;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Paid $<span class="subst">{amount}</span> using PayPal account: <span class="subst">{email}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CryptoPayment</span> : <span class="title">IPaymentStrategy</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> walletAddress;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CryptoPayment</span>(<span class="params"><span class="built_in">string</span> walletAddress</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.walletAddress = walletAddress;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Pay</span>(<span class="params"><span class="built_in">decimal</span> amount</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Paid $<span class="subst">{amount}</span> using Crypto wallet: <span class="subst">{walletAddress}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Context</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ShoppingCart</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> IPaymentStrategy paymentStrategy;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">decimal</span> totalAmount;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetPaymentStrategy</span>(<span class="params">IPaymentStrategy strategy</span>)</span></span><br><span class="line">    {</span><br><span class="line">        paymentStrategy = strategy;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddItem</span>(<span class="params"><span class="built_in">string</span> item, <span class="built_in">decimal</span> price</span>)</span></span><br><span class="line">    {</span><br><span class="line">        totalAmount += price;</span><br><span class="line">        Console.WriteLine(<span class="string">$"Added <span class="subst">{item}</span> - $<span class="subst">{price}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Checkout</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (paymentStrategy == <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Please select a payment method!"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">$"Total: $<span class="subst">{totalAmount}</span>"</span>);</span><br><span class="line">        paymentStrategy.Pay(totalAmount);</span><br><span class="line">        totalAmount = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> cart = <span class="keyword">new</span> ShoppingCart();</span><br><span class="line">        </span><br><span class="line">        cart.AddItem(<span class="string">"Laptop"</span>, <span class="number">1200.00</span>m);</span><br><span class="line">        cart.AddItem(<span class="string">"Mouse"</span>, <span class="number">25.00</span>m);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Paying with Credit Card ---"</span>);</span><br><span class="line">        cart.SetPaymentStrategy(<span class="keyword">new</span> CreditCardPayment(<span class="string">"1234567890123456"</span>, <span class="string">"123"</span>));</span><br><span class="line">        cart.Checkout();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- New Order ---"</span>);</span><br><span class="line">        cart.AddItem(<span class="string">"Keyboard"</span>, <span class="number">75.00</span>m);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Paying with PayPal ---"</span>);</span><br><span class="line">        cart.SetPaymentStrategy(<span class="keyword">new</span> PayPalPayment(<span class="string">"user@example.com"</span>));</span><br><span class="line">        cart.Checkout();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="decorator-pattern">Decorator Pattern</h2>
<p>Adds new functionality to objects dynamically without altering their
structure.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Component interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICoffee</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">GetDescription</span>()</span>;</span><br><span class="line">    <span class="function"><span class="built_in">decimal</span> <span class="title">GetCost</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SimpleCoffee</span> : <span class="title">ICoffee</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Simple Coffee"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2.00</span>m;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Base decorator</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">CoffeeDecorator</span> : <span class="title">ICoffee</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">protected</span> ICoffee coffee;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CoffeeDecorator</span>(<span class="params">ICoffee coffee</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.coffee = coffee;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetDescription();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetCost();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete decorators</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MilkDecorator</span> : <span class="title">CoffeeDecorator</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MilkDecorator</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> { }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetDescription() + <span class="string">", Milk"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetCost() + <span class="number">0.50</span>m;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SugarDecorator</span> : <span class="title">CoffeeDecorator</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SugarDecorator</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> { }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetDescription() + <span class="string">", Sugar"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetCost() + <span class="number">0.25</span>m;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WhippedCreamDecorator</span> : <span class="title">CoffeeDecorator</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WhippedCreamDecorator</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> { }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetDescription() + <span class="string">", Whipped Cream"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetCost() + <span class="number">0.75</span>m;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CaramelDecorator</span> : <span class="title">CoffeeDecorator</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CaramelDecorator</span>(<span class="params">ICoffee coffee</span>) : <span class="title">base</span>(<span class="params">coffee</span>)</span> { }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">GetDescription</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetDescription() + <span class="string">", Caramel"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">decimal</span> <span class="title">GetCost</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> coffee.GetCost() + <span class="number">0.60</span>m;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Simple coffee</span></span><br><span class="line">        ICoffee coffee1 = <span class="keyword">new</span> SimpleCoffee();</span><br><span class="line">        Console.WriteLine(<span class="string">$"<span class="subst">{coffee1.GetDescription()}</span> - $<span class="subst">{coffee1.GetCost()}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Coffee with milk</span></span><br><span class="line">        ICoffee coffee2 = <span class="keyword">new</span> MilkDecorator(<span class="keyword">new</span> SimpleCoffee());</span><br><span class="line">        Console.WriteLine(<span class="string">$"<span class="subst">{coffee2.GetDescription()}</span> - $<span class="subst">{coffee2.GetCost()}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Coffee with milk and sugar</span></span><br><span class="line">        ICoffee coffee3 = <span class="keyword">new</span> SugarDecorator(<span class="keyword">new</span> MilkDecorator(<span class="keyword">new</span> SimpleCoffee()));</span><br><span class="line">        Console.WriteLine(<span class="string">$"<span class="subst">{coffee3.GetDescription()}</span> - $<span class="subst">{coffee3.GetCost()}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Fancy coffee with everything</span></span><br><span class="line">        ICoffee fancyCoffee = <span class="keyword">new</span> CaramelDecorator(</span><br><span class="line">            <span class="keyword">new</span> WhippedCreamDecorator(</span><br><span class="line">                <span class="keyword">new</span> SugarDecorator(</span><br><span class="line">                    <span class="keyword">new</span> MilkDecorator(<span class="keyword">new</span> SimpleCoffee()))));</span><br><span class="line">        Console.WriteLine(<span class="string">$"<span class="subst">{fancyCoffee.GetDescription()}</span> - $<span class="subst">{fancyCoffee.GetCost()}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="repository-pattern">Repository Pattern</h2>
<p>Mediates between the domain and data mapping layers.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Product</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">decimal</span> Price { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Stock { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Repository interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IRepository</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span> : <span class="keyword">class</span></span><br><span class="line">{</span><br><span class="line">    <span class="function">T <span class="title">GetById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">    <span class="function">IEnumerable&lt;T&gt; <span class="title">GetAll</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params">T entity</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params">T entity</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProductRepository</span> : <span class="title">IRepository</span>&lt;<span class="title">Product</span>&gt;</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> List&lt;Product&gt; products = <span class="keyword">new</span> List&lt;Product&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> nextId = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Product <span class="title">GetById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> product = products.FirstOrDefault(p =&gt; p.Id == id);</span><br><span class="line">        <span class="keyword">if</span> (product == <span class="literal">null</span>)</span><br><span class="line">            Console.WriteLine(<span class="string">$"Product with ID <span class="subst">{id}</span> not found"</span>);</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerable&lt;Product&gt; <span class="title">GetAll</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> products.ToList();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">Product entity</span>)</span></span><br><span class="line">    {</span><br><span class="line">        entity.Id = nextId++;</span><br><span class="line">        products.Add(entity);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Added product: <span class="subst">{entity.Name}</span> (ID: <span class="subst">{entity.Id}</span>)"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params">Product entity</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> existing = GetById(entity.Id);</span><br><span class="line">        <span class="keyword">if</span> (existing != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            existing.Name = entity.Name;</span><br><span class="line">            existing.Price = entity.Price;</span><br><span class="line">            existing.Stock = entity.Stock;</span><br><span class="line">            Console.WriteLine(<span class="string">$"Updated product ID <span class="subst">{entity.Id}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> product = GetById(id);</span><br><span class="line">        <span class="keyword">if</span> (product != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            products.Remove(product);</span><br><span class="line">            Console.WriteLine(<span class="string">$"Deleted product: <span class="subst">{product.Name}</span> (ID: <span class="subst">{id}</span>)"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Custom query methods</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerable&lt;Product&gt; <span class="title">GetByPriceRange</span>(<span class="params"><span class="built_in">decimal</span> min, <span class="built_in">decimal</span> max</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> products.Where(p =&gt; p.Price &gt;= min &amp;&amp; p.Price &lt;= max);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerable&lt;Product&gt; <span class="title">GetInStock</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> products.Where(p =&gt; p.Stock &gt; <span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> repository = <span class="keyword">new</span> ProductRepository();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Add products</span></span><br><span class="line">        repository.Add(<span class="keyword">new</span> Product { Name = <span class="string">"Laptop"</span>, Price = <span class="number">999.99</span>m, Stock = <span class="number">10</span> });</span><br><span class="line">        repository.Add(<span class="keyword">new</span> Product { Name = <span class="string">"Mouse"</span>, Price = <span class="number">29.99</span>m, Stock = <span class="number">50</span> });</span><br><span class="line">        repository.Add(<span class="keyword">new</span> Product { Name = <span class="string">"Keyboard"</span>, Price = <span class="number">79.99</span>m, Stock = <span class="number">30</span> });</span><br><span class="line">        repository.Add(<span class="keyword">new</span> Product { Name = <span class="string">"Monitor"</span>, Price = <span class="number">299.99</span>m, Stock = <span class="number">0</span> });</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- All Products ---"</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> product <span class="keyword">in</span> repository.GetAll())</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"ID: <span class="subst">{product.Id}</span>, <span class="subst">{product.Name}</span> - $<span class="subst">{product.Price}</span>, Stock: <span class="subst">{product.Stock}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Products in Stock ---"</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> product <span class="keyword">in</span> repository.GetInStock())</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"<span class="subst">{product.Name}</span> - Stock: <span class="subst">{product.Stock}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Products $50-$100 ---"</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> product <span class="keyword">in</span> repository.GetByPriceRange(<span class="number">50</span>, <span class="number">100</span>))</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"<span class="subst">{product.Name}</span> - $<span class="subst">{product.Price}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Update Product ---"</span>);</span><br><span class="line">        <span class="keyword">var</span> laptop = repository.GetById(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (laptop != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            laptop.Price = <span class="number">899.99</span>m;</span><br><span class="line">            repository.Update(laptop);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n--- Delete Product ---"</span>);</span><br><span class="line">        repository.Delete(<span class="number">4</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="adapter-pattern">Adapter Pattern</h2>
<p>Allows incompatible interfaces to work together.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Target interface (what our application expects)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IMediaPlayer</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Play</span>(<span class="params"><span class="built_in">string</span> audioType, <span class="built_in">string</span> fileName</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Adaptee (incompatible interface)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AdvancedMediaPlayer</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayVlc</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Playing VLC file: <span class="subst">{fileName}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayMp4</span>(<span class="params"><span class="built_in">string</span> fileName</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Playing MP4 file: <span class="subst">{fileName}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Adapter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MediaAdapter</span> : <span class="title">IMediaPlayer</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> AdvancedMediaPlayer advancedPlayer;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MediaAdapter</span>(<span class="params"><span class="built_in">string</span> audioType</span>)</span></span><br><span class="line">    {</span><br><span class="line">        advancedPlayer = <span class="keyword">new</span> AdvancedMediaPlayer();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Play</span>(<span class="params"><span class="built_in">string</span> audioType, <span class="built_in">string</span> fileName</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (audioType.ToLower() == <span class="string">"vlc"</span>)</span><br><span class="line">        {</span><br><span class="line">            advancedPlayer.PlayVlc(fileName);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (audioType.ToLower() == <span class="string">"mp4"</span>)</span><br><span class="line">        {</span><br><span class="line">            advancedPlayer.PlayMp4(fileName);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"Invalid media type: <span class="subst">{audioType}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Client class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AudioPlayer</span> : <span class="title">IMediaPlayer</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> MediaAdapter mediaAdapter;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Play</span>(<span class="params"><span class="built_in">string</span> audioType, <span class="built_in">string</span> fileName</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Built-in support for mp3</span></span><br><span class="line">        <span class="keyword">if</span> (audioType.ToLower() == <span class="string">"mp3"</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"Playing MP3 file: <span class="subst">{fileName}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// Use adapter for other formats</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (audioType.ToLower() == <span class="string">"vlc"</span> || audioType.ToLower() == <span class="string">"mp4"</span>)</span><br><span class="line">        {</span><br><span class="line">            mediaAdapter = <span class="keyword">new</span> MediaAdapter(audioType);</span><br><span class="line">            mediaAdapter.Play(audioType, fileName);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"Invalid media. <span class="subst">{audioType}</span> format not supported"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> player = <span class="keyword">new</span> AudioPlayer();</span><br><span class="line">        </span><br><span class="line">        player.Play(<span class="string">"mp3"</span>, <span class="string">"song.mp3"</span>);</span><br><span class="line">        player.Play(<span class="string">"mp4"</span>, <span class="string">"video.mp4"</span>);</span><br><span class="line">        player.Play(<span class="string">"vlc"</span>, <span class="string">"movie.vlc"</span>);</span><br><span class="line">        player.Play(<span class="string">"avi"</span>, <span class="string">"clip.avi"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="builder-pattern">Builder Pattern</h2>
<p>Constructs complex objects step by step.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Product</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Computer</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> CPU { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> RAM { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Storage { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> GPU { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> PowerSupply { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Motherboard { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasWifi { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> HasBluetooth { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$@"Computer Specs:</span></span><br><span class="line"><span class="string">- CPU: <span class="subst">{CPU}</span></span></span><br><span class="line"><span class="string">- RAM: <span class="subst">{RAM}</span></span></span><br><span class="line"><span class="string">- Storage: <span class="subst">{Storage}</span></span></span><br><span class="line"><span class="string">- GPU: <span class="subst">{GPU ?? <span class="string">"Integrated"</span>}</span></span></span><br><span class="line"><span class="string">- Power Supply: <span class="subst">{PowerSupply}</span></span></span><br><span class="line"><span class="string">- Motherboard: <span class="subst">{Motherboard}</span></span></span><br><span class="line"><span class="string">- WiFi: <span class="subst">{(HasWifi ? <span class="string">"Yes"</span> : <span class="string">"No"</span>)}</span></span></span><br><span class="line"><span class="string">- Bluetooth: <span class="subst">{(HasBluetooth ? <span class="string">"Yes"</span> : <span class="string">"No"</span>)}</span>"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Builder interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IComputerBuilder</span></span><br><span class="line">{</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetCPU</span>(<span class="params"><span class="built_in">string</span> cpu</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetRAM</span>(<span class="params"><span class="built_in">string</span> ram</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetStorage</span>(<span class="params"><span class="built_in">string</span> storage</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetGPU</span>(<span class="params"><span class="built_in">string</span> gpu</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetPowerSupply</span>(<span class="params"><span class="built_in">string</span> powerSupply</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">SetMotherboard</span>(<span class="params"><span class="built_in">string</span> motherboard</span>)</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">AddWifi</span>()</span>;</span><br><span class="line">    <span class="function">IComputerBuilder <span class="title">AddBluetooth</span>()</span>;</span><br><span class="line">    <span class="function">Computer <span class="title">Build</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete builder</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ComputerBuilder</span> : <span class="title">IComputerBuilder</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> Computer computer = <span class="keyword">new</span> Computer();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetCPU</span>(<span class="params"><span class="built_in">string</span> cpu</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.CPU = cpu;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetRAM</span>(<span class="params"><span class="built_in">string</span> ram</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.RAM = ram;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetStorage</span>(<span class="params"><span class="built_in">string</span> storage</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.Storage = storage;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetGPU</span>(<span class="params"><span class="built_in">string</span> gpu</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.GPU = gpu;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetPowerSupply</span>(<span class="params"><span class="built_in">string</span> powerSupply</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.PowerSupply = powerSupply;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">SetMotherboard</span>(<span class="params"><span class="built_in">string</span> motherboard</span>)</span></span><br><span class="line">    {</span><br><span class="line">        computer.Motherboard = motherboard;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">AddWifi</span>()</span></span><br><span class="line">    {</span><br><span class="line">        computer.HasWifi = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> IComputerBuilder <span class="title">AddBluetooth</span>()</span></span><br><span class="line">    {</span><br><span class="line">        computer.HasBluetooth = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">Build</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> computer;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Director (optional)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ComputerDirector</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">BuildGamingPC</span>(<span class="params">IComputerBuilder builder</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> builder</span><br><span class="line">            .SetCPU(<span class="string">"Intel i9-13900K"</span>)</span><br><span class="line">            .SetRAM(<span class="string">"32GB DDR5"</span>)</span><br><span class="line">            .SetStorage(<span class="string">"2TB NVMe SSD"</span>)</span><br><span class="line">            .SetGPU(<span class="string">"NVIDIA RTX 4090"</span>)</span><br><span class="line">            .SetPowerSupply(<span class="string">"1000W 80+ Gold"</span>)</span><br><span class="line">            .SetMotherboard(<span class="string">"ASUS ROG Maximus"</span>)</span><br><span class="line">            .AddWifi()</span><br><span class="line">            .AddBluetooth()</span><br><span class="line">            .Build();</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">BuildOfficePC</span>(<span class="params">IComputerBuilder builder</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> builder</span><br><span class="line">            .SetCPU(<span class="string">"Intel i5-13400"</span>)</span><br><span class="line">            .SetRAM(<span class="string">"16GB DDR4"</span>)</span><br><span class="line">            .SetStorage(<span class="string">"512GB SSD"</span>)</span><br><span class="line">            .SetPowerSupply(<span class="string">"500W 80+ Bronze"</span>)</span><br><span class="line">            .SetMotherboard(<span class="string">"MSI Pro B760"</span>)</span><br><span class="line">            .AddWifi()</span><br><span class="line">            .Build();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Manual building</span></span><br><span class="line">        Console.WriteLine(<span class="string">"=== Custom PC ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> customPC = <span class="keyword">new</span> ComputerBuilder()</span><br><span class="line">            .SetCPU(<span class="string">"AMD Ryzen 9 7950X"</span>)</span><br><span class="line">            .SetRAM(<span class="string">"64GB DDR5"</span>)</span><br><span class="line">            .SetStorage(<span class="string">"4TB NVMe SSD"</span>)</span><br><span class="line">            .SetGPU(<span class="string">"AMD RX 7900 XTX"</span>)</span><br><span class="line">            .SetPowerSupply(<span class="string">"850W 80+ Platinum"</span>)</span><br><span class="line">            .SetMotherboard(<span class="string">"MSI X670E"</span>)</span><br><span class="line">            .AddWifi()</span><br><span class="line">            .AddBluetooth()</span><br><span class="line">            .Build();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(customPC);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Using director</span></span><br><span class="line">        <span class="keyword">var</span> director = <span class="keyword">new</span> ComputerDirector();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Gaming PC ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> gamingPC = director.BuildGamingPC(<span class="keyword">new</span> ComputerBuilder());</span><br><span class="line">        Console.WriteLine(gamingPC);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Office PC ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> officePC = director.BuildOfficePC(<span class="keyword">new</span> ComputerBuilder());</span><br><span class="line">        Console.WriteLine(officePC);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="dependency-injection-pattern">Dependency Injection Pattern</h2>
<p>Implements inversion of control for loose coupling.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dependencies (interfaces)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ILogger</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IEmailService</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SendEmail</span>(<span class="params"><span class="built_in">string</span> to, <span class="built_in">string</span> subject, <span class="built_in">string</span> body</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDatabase</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Save</span>(<span class="params"><span class="built_in">string</span> data</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete implementations</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ConsoleLogger</span> : <span class="title">ILogger</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"[LOG] <span class="subst">{DateTime.Now:HH:mm:ss}</span>: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FileLogger</span> : <span class="title">ILogger</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"[FILE LOG] Writing to file: <span class="subst">{message}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EmailService</span> : <span class="title">IEmailService</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger logger;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">EmailService</span>(<span class="params">ILogger logger</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.logger = logger;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SendEmail</span>(<span class="params"><span class="built_in">string</span> to, <span class="built_in">string</span> subject, <span class="built_in">string</span> body</span>)</span></span><br><span class="line">    {</span><br><span class="line">        logger.Log(<span class="string">$"Sending email to <span class="subst">{to}</span>"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Email sent to: <span class="subst">{to}</span>"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Subject: <span class="subst">{subject}</span>"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Body: <span class="subst">{body}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlDatabase</span> : <span class="title">IDatabase</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger logger;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SqlDatabase</span>(<span class="params">ILogger logger</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.logger = logger;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Save</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        logger.Log(<span class="string">$"Saving to SQL database: <span class="subst">{data}</span>"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">"Data saved to SQL database"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// High-level service with dependencies</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserService</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger logger;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IEmailService emailService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IDatabase database;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Constructor injection</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserService</span>(<span class="params">ILogger logger, IEmailService emailService, IDatabase database</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.logger = logger;</span><br><span class="line">        <span class="keyword">this</span>.emailService = emailService;</span><br><span class="line">        <span class="keyword">this</span>.database = database;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegisterUser</span>(<span class="params"><span class="built_in">string</span> username, <span class="built_in">string</span> email</span>)</span></span><br><span class="line">    {</span><br><span class="line">        logger.Log(<span class="string">$"Registering user: <span class="subst">{username}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Save to database</span></span><br><span class="line">        database.Save(<span class="string">$"User: <span class="subst">{username}</span>, Email: <span class="subst">{email}</span>"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Send welcome email</span></span><br><span class="line">        emailService.SendEmail(</span><br><span class="line">            email,</span><br><span class="line">            <span class="string">"Welcome!"</span>,</span><br><span class="line">            <span class="string">$"Hello <span class="subst">{username}</span>, welcome to our service!"</span></span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        logger.Log(<span class="string">$"User <span class="subst">{username}</span> registered successfully"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Simple DI Container</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ServiceContainer</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> Dictionary&lt;Type, Type&gt; services = <span class="keyword">new</span> Dictionary&lt;Type, Type&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span>&lt;<span class="title">TInterface</span>, <span class="title">TImplementation</span>&gt;() </span></span><br><span class="line"><span class="function">        <span class="keyword">where</span> TImplementation : TInterface</span></span><br><span class="line">    {</span><br><span class="line">        services[<span class="keyword">typeof</span>(TInterface)] = <span class="keyword">typeof</span>(TImplementation);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Resolve</span>&lt;<span class="title">T</span>&gt;()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> (T)Resolve(<span class="keyword">typeof</span>(T));</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">object</span> <span class="title">Resolve</span>(<span class="params">Type type</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Type implementation;</span><br><span class="line">        <span class="keyword">if</span> (!services.TryGetValue(type, <span class="keyword">out</span> implementation))</span><br><span class="line">        {</span><br><span class="line">            implementation = type;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> constructor = implementation.GetConstructors()[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">var</span> parameters = constructor.GetParameters();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (parameters.Length == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> Activator.CreateInstance(implementation);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> parameterInstances = <span class="keyword">new</span> <span class="built_in">object</span>[parameters.Length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; parameters.Length; i++)</span><br><span class="line">        {</span><br><span class="line">            parameterInstances[i] = Resolve(parameters[i].ParameterType);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> constructor.Invoke(parameterInstances);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"=== Manual Dependency Injection ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> logger = <span class="keyword">new</span> ConsoleLogger();</span><br><span class="line">        <span class="keyword">var</span> emailService = <span class="keyword">new</span> EmailService(logger);</span><br><span class="line">        <span class="keyword">var</span> database = <span class="keyword">new</span> SqlDatabase(logger);</span><br><span class="line">        <span class="keyword">var</span> userService = <span class="keyword">new</span> UserService(logger, emailService, database);</span><br><span class="line">        </span><br><span class="line">        userService.RegisterUser(<span class="string">"john_doe"</span>, <span class="string">"john@example.com"</span>);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Using DI Container ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> container = <span class="keyword">new</span> ServiceContainer();</span><br><span class="line">        container.Register&lt;ILogger, FileLogger&gt;();</span><br><span class="line">        container.Register&lt;IEmailService, EmailService&gt;();</span><br><span class="line">        container.Register&lt;IDatabase, SqlDatabase&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> userService2 = container.Resolve&lt;UserService&gt;();</span><br><span class="line">        userService2.RegisterUser(<span class="string">"jane_smith"</span>, <span class="string">"jane@example.com"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="command-pattern">Command Pattern</h2>
<p>Encapsulates a request as an object, allowing parameterization and
queuing.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Command interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICommand</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Execute</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Undo</span>()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Receiver</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TextEditor</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> text = <span class="string">""</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Write</span>(<span class="params"><span class="built_in">string</span> newText</span>)</span></span><br><span class="line">    {</span><br><span class="line">        text += newText;</span><br><span class="line">        Console.WriteLine(<span class="string">$"Text: '<span class="subst">{text}</span>'"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Delete</span>(<span class="params"><span class="built_in">int</span> length</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (length &gt; text.Length)</span><br><span class="line">            length = text.Length;</span><br><span class="line">        </span><br><span class="line">        text = text.Substring(<span class="number">0</span>, text.Length - length);</span><br><span class="line">        Console.WriteLine(<span class="string">$"Text: '<span class="subst">{text}</span>'"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetText</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> text;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Commands</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WriteCommand</span> : <span class="title">ICommand</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> TextEditor editor;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> textToWrite;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WriteCommand</span>(<span class="params">TextEditor editor, <span class="built_in">string</span> text</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.editor = editor;</span><br><span class="line">        <span class="keyword">this</span>.textToWrite = text;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span></span><br><span class="line">    {</span><br><span class="line">        editor.Write(textToWrite);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span></span><br><span class="line">    {</span><br><span class="line">        editor.Delete(textToWrite.Length);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DeleteCommand</span> : <span class="title">ICommand</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> TextEditor editor;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> length;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> deletedText;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DeleteCommand</span>(<span class="params">TextEditor editor, <span class="built_in">int</span> length</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.editor = editor;</span><br><span class="line">        <span class="keyword">this</span>.length = length;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">string</span> currentText = editor.GetText();</span><br><span class="line">        <span class="built_in">int</span> deleteLength = Math.Min(length, currentText.Length);</span><br><span class="line">        deletedText = currentText.Substring(currentText.Length - deleteLength);</span><br><span class="line">        editor.Delete(deleteLength);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span></span><br><span class="line">    {</span><br><span class="line">        editor.Write(deletedText);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Invoker</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CommandManager</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;ICommand&gt; history = <span class="keyword">new</span> Stack&lt;ICommand&gt;();</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;ICommand&gt; redoStack = <span class="keyword">new</span> Stack&lt;ICommand&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ExecuteCommand</span>(<span class="params">ICommand command</span>)</span></span><br><span class="line">    {</span><br><span class="line">        command.Execute();</span><br><span class="line">        history.Push(command);</span><br><span class="line">        redoStack.Clear(); <span class="comment">// Clear redo stack when new command is executed</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Undo</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (history.Count &gt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">var</span> command = history.Pop();</span><br><span class="line">            command.Undo();</span><br><span class="line">            redoStack.Push(command);</span><br><span class="line">            Console.WriteLine(<span class="string">"Undo completed"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Nothing to undo"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Redo</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (redoStack.Count &gt; <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">var</span> command = redoStack.Pop();</span><br><span class="line">            command.Execute();</span><br><span class="line">            history.Push(command);</span><br><span class="line">            Console.WriteLine(<span class="string">"Redo completed"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"Nothing to redo"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> editor = <span class="keyword">new</span> TextEditor();</span><br><span class="line">        <span class="keyword">var</span> manager = <span class="keyword">new</span> CommandManager();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"=== Writing text ==="</span>);</span><br><span class="line">        manager.ExecuteCommand(<span class="keyword">new</span> WriteCommand(editor, <span class="string">"Hello "</span>));</span><br><span class="line">        manager.ExecuteCommand(<span class="keyword">new</span> WriteCommand(editor, <span class="string">"World!"</span>));</span><br><span class="line">        manager.ExecuteCommand(<span class="keyword">new</span> WriteCommand(editor, <span class="string">" How are you?"</span>));</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Undo operations ==="</span>);</span><br><span class="line">        manager.Undo();</span><br><span class="line">        manager.Undo();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Redo operations ==="</span>);</span><br><span class="line">        manager.Redo();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Delete operation ==="</span>);</span><br><span class="line">        manager.ExecuteCommand(<span class="keyword">new</span> DeleteCommand(editor, <span class="number">5</span>));</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Undo delete ==="</span>);</span><br><span class="line">        manager.Undo();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== More writing ==="</span>);</span><br><span class="line">        manager.ExecuteCommand(<span class="keyword">new</span> WriteCommand(editor, <span class="string">" Great!"</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="chain-of-responsibility-pattern">Chain of Responsibility
Pattern</h2>
<p>Passes requests along a chain of handlers.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Request</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PurchaseRequest</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Item { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">decimal</span> Amount { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Purpose { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PurchaseRequest</span>(<span class="params"><span class="built_in">string</span> item, <span class="built_in">decimal</span> amount, <span class="built_in">string</span> purpose</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Item = item;</span><br><span class="line">        Amount = amount;</span><br><span class="line">        Purpose = purpose;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Handler interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Approver</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">protected</span> Approver nextApprover;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">protected</span> <span class="built_in">decimal</span> approvalLimit;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetNext</span>(<span class="params">Approver approver</span>)</span></span><br><span class="line">    {</span><br><span class="line">        nextApprover = approver;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">PurchaseRequest request</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete Handlers</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Manager</span> : <span class="title">Approver</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Manager</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.approvalLimit = <span class="number">1000</span>m;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">PurchaseRequest request</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (request.Amount &lt;= approvalLimit)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Manager <span class="subst">{name}</span>] Approved: <span class="subst">{request.Item}</span> - $<span class="subst">{request.Amount}</span>"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">$"  Purpose: <span class="subst">{request.Purpose}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nextApprover != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Manager <span class="subst">{name}</span>] Cannot approve $<span class="subst">{request.Amount}</span>. Forwarding to next level..."</span>);</span><br><span class="line">            nextApprover.ProcessRequest(request);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Manager <span class="subst">{name}</span>] Request denied. No higher authority available."</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Director</span> : <span class="title">Approver</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Director</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.approvalLimit = <span class="number">5000</span>m;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">PurchaseRequest request</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (request.Amount &lt;= approvalLimit)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Director <span class="subst">{name}</span>] Approved: <span class="subst">{request.Item}</span> - $<span class="subst">{request.Amount}</span>"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">$"  Purpose: <span class="subst">{request.Purpose}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nextApprover != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Director <span class="subst">{name}</span>] Cannot approve $<span class="subst">{request.Amount}</span>. Forwarding to next level..."</span>);</span><br><span class="line">            nextApprover.ProcessRequest(request);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[Director <span class="subst">{name}</span>] Request denied. No higher authority available."</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VicePresident</span> : <span class="title">Approver</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VicePresident</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.approvalLimit = <span class="number">25000</span>m;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">PurchaseRequest request</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (request.Amount &lt;= approvalLimit)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[VP <span class="subst">{name}</span>] Approved: <span class="subst">{request.Item}</span> - $<span class="subst">{request.Amount}</span>"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">$"  Purpose: <span class="subst">{request.Purpose}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nextApprover != <span class="literal">null</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[VP <span class="subst">{name}</span>] Cannot approve $<span class="subst">{request.Amount}</span>. Forwarding to next level..."</span>);</span><br><span class="line">            nextApprover.ProcessRequest(request);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[VP <span class="subst">{name}</span>] Request denied. No higher authority available."</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">President</span> : <span class="title">Approver</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">President</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.approvalLimit = <span class="number">100000</span>m;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">PurchaseRequest request</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (request.Amount &lt;= approvalLimit)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[President <span class="subst">{name}</span>] Approved: <span class="subst">{request.Item}</span> - $<span class="subst">{request.Amount}</span>"</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">$"  Purpose: <span class="subst">{request.Purpose}</span>"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"[President <span class="subst">{name}</span>] Request denied. Amount exceeds maximum approval limit."</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Setup chain of responsibility</span></span><br><span class="line">        <span class="keyword">var</span> manager = <span class="keyword">new</span> Manager(<span class="string">"Alice"</span>);</span><br><span class="line">        <span class="keyword">var</span> director = <span class="keyword">new</span> Director(<span class="string">"Bob"</span>);</span><br><span class="line">        <span class="keyword">var</span> vp = <span class="keyword">new</span> VicePresident(<span class="string">"Charlie"</span>);</span><br><span class="line">        <span class="keyword">var</span> president = <span class="keyword">new</span> President(<span class="string">"Diana"</span>);</span><br><span class="line">        </span><br><span class="line">        manager.SetNext(director);</span><br><span class="line">        director.SetNext(vp);</span><br><span class="line">        vp.SetNext(president);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Process various purchase requests</span></span><br><span class="line">        <span class="keyword">var</span> requests = <span class="keyword">new</span>[]</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">new</span> PurchaseRequest(<span class="string">"Office Supplies"</span>, <span class="number">500</span>m, <span class="string">"Restocking paper and pens"</span>),</span><br><span class="line">            <span class="keyword">new</span> PurchaseRequest(<span class="string">"New Laptops"</span>, <span class="number">3500</span>m, <span class="string">"Developer team equipment upgrade"</span>),</span><br><span class="line">            <span class="keyword">new</span> PurchaseRequest(<span class="string">"Server Infrastructure"</span>, <span class="number">15000</span>m, <span class="string">"Expand cloud capacity"</span>),</span><br><span class="line">            <span class="keyword">new</span> PurchaseRequest(<span class="string">"Company Acquisition"</span>, <span class="number">50000</span>m, <span class="string">"Strategic business expansion"</span>),</span><br><span class="line">            <span class="keyword">new</span> PurchaseRequest(<span class="string">"Private Jet"</span>, <span class="number">150000</span>m, <span class="string">"Executive transport"</span>)</span><br><span class="line">        };</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> request <span class="keyword">in</span> requests)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">$"\n--- Processing Request: <span class="subst">{request.Item}</span> ($<span class="subst">{request.Amount}</span>) ---"</span>);</span><br><span class="line">            manager.ProcessRequest(request);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="facade-pattern">Facade Pattern</h2>
<p>Provides a simplified interface to a complex subsystem.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Complex subsystem classes</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoFile</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> filename;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> codecType;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VideoFile</span>(<span class="params"><span class="built_in">string</span> filename</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>.filename = filename;</span><br><span class="line">        <span class="keyword">this</span>.codecType = filename.Split(<span class="string">'.'</span>)[<span class="number">1</span>];</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetCodecType</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> codecType;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetFilename</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> filename;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CodecFactory</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ICodec <span class="title">Extract</span>(<span class="params">VideoFile file</span>)</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">string</span> type = file.GetCodecType();</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="string">"mp4"</span>)</span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"CodecFactory: Extracting MPEG4 codec..."</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MPEG4CompressionCodec();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            Console.WriteLine(<span class="string">"CodecFactory: Extracting OGG codec..."</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> OggCompressionCodec();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICodec</span> { }</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MPEG4CompressionCodec</span> : <span class="title">ICodec</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Type =&gt; <span class="string">"mp4"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OggCompressionCodec</span> : <span class="title">ICodec</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Type =&gt; <span class="string">"ogg"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BitrateReader</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> VideoFile <span class="title">Read</span>(<span class="params">VideoFile file, ICodec codec</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"BitrateReader: Reading file..."</span>);</span><br><span class="line">        <span class="keyword">return</span> file;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> VideoFile <span class="title">Convert</span>(<span class="params">VideoFile buffer, ICodec codec</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"BitrateReader: Converting video data..."</span>);</span><br><span class="line">        <span class="keyword">return</span> buffer;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AudioMixer</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Fix</span>(<span class="params">VideoFile result</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"AudioMixer: Fixing audio..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Facade</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">VideoConverter</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Convert</span>(<span class="params"><span class="built_in">string</span> filename, <span class="built_in">string</span> format</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"\n=== Starting conversion of <span class="subst">{filename}</span> to <span class="subst">{format}</span> ==="</span>);</span><br><span class="line">        </span><br><span class="line">        VideoFile file = <span class="keyword">new</span> VideoFile(filename);</span><br><span class="line">        ICodec sourceCodec = CodecFactory.Extract(file);</span><br><span class="line">        </span><br><span class="line">        ICodec destinationCodec;</span><br><span class="line">        <span class="keyword">if</span> (format == <span class="string">"mp4"</span>)</span><br><span class="line">        {</span><br><span class="line">            destinationCodec = <span class="keyword">new</span> MPEG4CompressionCodec();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            destinationCodec = <span class="keyword">new</span> OggCompressionCodec();</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        VideoFile buffer = BitrateReader.Read(file, sourceCodec);</span><br><span class="line">        VideoFile intermediateResult = BitrateReader.Convert(buffer, destinationCodec);</span><br><span class="line">        </span><br><span class="line">        VideoFile result = intermediateResult;</span><br><span class="line">        AudioMixer mixer = <span class="keyword">new</span> AudioMixer();</span><br><span class="line">        mixer.Fix(result);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">$"Conversion complete! Saved as: <span class="subst">{filename.Split(<span class="string">'.'</span>)[<span class="number">0</span>]}</span>.<span class="subst">{format}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Without facade, client would need to know all these complex steps</span></span><br><span class="line">        <span class="comment">// With facade, it's just one simple call</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> converter = <span class="keyword">new</span> VideoConverter();</span><br><span class="line">        </span><br><span class="line">        converter.Convert(<span class="string">"funny_cats.ogg"</span>, <span class="string">"mp4"</span>);</span><br><span class="line">        converter.Convert(<span class="string">"vacation_video.mp4"</span>, <span class="string">"ogg"</span>);</span><br><span class="line">        converter.Convert(<span class="string">"wedding.mp4"</span>, <span class="string">"mp4"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="template-method-pattern">Template Method Pattern</h2>
<p>Defines the skeleton of an algorithm, letting subclasses override
specific steps.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Abstract class with template method</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">DataMiner</span></span><br><span class="line">{</span><br><span class="line">    <span class="comment">// Template method - defines the algorithm structure</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Mine</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"\n=== Mining data from: <span class="subst">{path}</span> ==="</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> file = OpenFile(path);</span><br><span class="line">        <span class="keyword">var</span> rawData = ExtractData(file);</span><br><span class="line">        <span class="keyword">var</span> parsedData = ParseData(rawData);</span><br><span class="line">        <span class="keyword">var</span> analysis = AnalyzeData(parsedData);</span><br><span class="line">        SendReport(analysis);</span><br><span class="line">        CloseFile(file);</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"Mining complete!\n"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Abstract methods - must be implemented by subclasses</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="built_in">object</span> <span class="title">OpenFile</span>(<span class="params"><span class="built_in">string</span> path</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="built_in">string</span> <span class="title">ExtractData</span>(<span class="params"><span class="built_in">object</span> file</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="built_in">object</span> <span class="title">ParseData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Concrete methods with default implementation</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="built_in">string</span> <span class="title">AnalyzeData</span>(<span class="params"><span class="built_in">object</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Analyzing data with default algorithm..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Analysis complete"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendReport</span>(<span class="params"><span class="built_in">string</span> analysis</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Sending report: <span class="subst">{analysis}</span>"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">CloseFile</span>(<span class="params"><span class="built_in">object</span> file</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Closing file..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete implementation for PDF files</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PdfDataMiner</span> : <span class="title">DataMiner</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">OpenFile</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Opening PDF file: <span class="subst">{path}</span>"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { Type = <span class="string">"PDF"</span>, Path = path };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ExtractData</span>(<span class="params"><span class="built_in">object</span> file</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Extracting text from PDF..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"PDF raw data extracted"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ParseData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Parsing PDF data structure..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { ParsedData = data, Format = <span class="string">"PDF"</span> };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">AnalyzeData</span>(<span class="params"><span class="built_in">object</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Analyzing PDF data with specialized algorithm..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"PDF analysis: 250 pages, 50 images, 100 tables"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete implementation for CSV files</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CsvDataMiner</span> : <span class="title">DataMiner</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">OpenFile</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Opening CSV file: <span class="subst">{path}</span>"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { Type = <span class="string">"CSV"</span>, Path = path };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ExtractData</span>(<span class="params"><span class="built_in">object</span> file</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Reading CSV rows..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"CSV raw data extracted"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ParseData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Parsing CSV columns and rows..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { ParsedData = data, Format = <span class="string">"CSV"</span> };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">AnalyzeData</span>(<span class="params"><span class="built_in">object</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Analyzing CSV data with specialized algorithm..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"CSV analysis: 10,000 rows, 25 columns, 3 outliers detected"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete implementation for Excel files</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ExcelDataMiner</span> : <span class="title">DataMiner</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">OpenFile</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Opening Excel file: <span class="subst">{path}</span>"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { Type = <span class="string">"Excel"</span>, Path = path };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ExtractData</span>(<span class="params"><span class="built_in">object</span> file</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Reading Excel sheets..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Excel raw data extracted"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">object</span> <span class="title">ParseData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Parsing Excel workbook structure..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> { ParsedData = data, Format = <span class="string">"Excel"</span> };</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">AnalyzeData</span>(<span class="params"><span class="built_in">object</span> data</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">"Analyzing Excel data with specialized algorithm..."</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Excel analysis: 5 sheets, 8,500 rows, 30 formulas"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">SendReport</span>(<span class="params"><span class="built_in">string</span> analysis</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Sending detailed Excel report: <span class="subst">{analysis}</span>"</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">"Including charts and pivot tables..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        DataMiner pdfMiner = <span class="keyword">new</span> PdfDataMiner();</span><br><span class="line">        pdfMiner.Mine(<span class="string">"report.pdf"</span>);</span><br><span class="line">        </span><br><span class="line">        DataMiner csvMiner = <span class="keyword">new</span> CsvDataMiner();</span><br><span class="line">        csvMiner.Mine(<span class="string">"sales_data.csv"</span>);</span><br><span class="line">        </span><br><span class="line">        DataMiner excelMiner = <span class="keyword">new</span> ExcelDataMiner();</span><br><span class="line">        excelMiner.Mine(<span class="string">"financial_report.xlsx"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="state-pattern">State Pattern</h2>
<p>Allows an object to change its behavior when its internal state
changes.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// State interface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IOrderState</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Cancel</span>(<span class="params">Order order</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">VerifyPayment</span>(<span class="params">Order order</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Ship</span>(<span class="params">Order order</span>)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Context</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Order</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">private</span> IOrderState state;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> OrderId { <span class="keyword">get</span>; }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Order</span>(<span class="params"><span class="built_in">string</span> orderId</span>)</span></span><br><span class="line">    {</span><br><span class="line">        OrderId = orderId;</span><br><span class="line">        state = <span class="keyword">new</span> NewOrderState();</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{OrderId}</span> created in NEW state"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetState</span>(<span class="params">IOrderState newState</span>)</span></span><br><span class="line">    {</span><br><span class="line">        state = newState;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span>()</span></span><br><span class="line">    {</span><br><span class="line">        state.Cancel(<span class="keyword">this</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">VerifyPayment</span>()</span></span><br><span class="line">    {</span><br><span class="line">        state.VerifyPayment(<span class="keyword">this</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Ship</span>()</span></span><br><span class="line">    {</span><br><span class="line">        state.Ship(<span class="keyword">this</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Concrete States</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewOrderState</span> : <span class="title">IOrderState</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cancelled from NEW state"</span>);</span><br><span class="line">        order.SetState(<span class="keyword">new</span> CancelledOrderState());</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">VerifyPayment</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Payment verified, moving to PAID state"</span>);</span><br><span class="line">        order.SetState(<span class="keyword">new</span> PaidOrderState());</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Ship</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cannot ship - payment not verified!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PaidOrderState</span> : <span class="title">IOrderState</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cancelling paid order, issuing refund..."</span>);</span><br><span class="line">        order.SetState(<span class="keyword">new</span> CancelledOrderState());</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">VerifyPayment</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Payment already verified!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Ship</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Shipping order, moving to SHIPPED state"</span>);</span><br><span class="line">        order.SetState(<span class="keyword">new</span> ShippedOrderState());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ShippedOrderState</span> : <span class="title">IOrderState</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cannot cancel - already shipped!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">VerifyPayment</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Payment already verified!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Ship</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Already shipped!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CancelledOrderState</span> : <span class="title">IOrderState</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cancel</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Already cancelled!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">VerifyPayment</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cannot verify payment - order cancelled!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Ship</span>(<span class="params">Order order</span>)</span></span><br><span class="line">    {</span><br><span class="line">        Console.WriteLine(<span class="string">$"Order <span class="subst">{order.OrderId}</span>: Cannot ship - order cancelled!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">// Normal flow</span></span><br><span class="line">        Console.WriteLine(<span class="string">"=== Normal Order Flow ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> order1 = <span class="keyword">new</span> Order(<span class="string">"#1001"</span>);</span><br><span class="line">        order1.VerifyPayment();</span><br><span class="line">        order1.Ship();</span><br><span class="line">        order1.Ship(); <span class="comment">// Try to ship again</span></span><br><span class="line">        order1.Cancel(); <span class="comment">// Try to cancel after shipping</span></span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Cancel Before Payment ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> order2 = <span class="keyword">new</span> Order(<span class="string">"#1002"</span>);</span><br><span class="line">        order2.Cancel();</span><br><span class="line">        order2.VerifyPayment(); <span class="comment">// Try to verify after cancellation</span></span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Cancel After Payment ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> order3 = <span class="keyword">new</span> Order(<span class="string">"#1003"</span>);</span><br><span class="line">        order3.VerifyPayment();</span><br><span class="line">        order3.Cancel();</span><br><span class="line">        </span><br><span class="line">        Console.WriteLine(<span class="string">"\n=== Invalid Operations ==="</span>);</span><br><span class="line">        <span class="keyword">var</span> order4 = <span class="keyword">new</span> Order(<span class="string">"#1004"</span>);</span><br><span class="line">        order4.Ship(); <span class="comment">// Try to ship without payment</span></span><br><span class="line">        order4.VerifyPayment();</span><br><span class="line">        order4.VerifyPayment(); <span class="comment">// Verify again</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="summary">Summary</h2>
<p>I've provided complete, working examples of <strong>14 essential C#
design patterns</strong>:</p>
<h3 id="creational-patterns">Creational Patterns:</h3>
<ol type="1">
<li><strong>Singleton</strong> - Single instance management</li>
<li><strong>Factory</strong> - Object creation without specifying exact
class</li>
<li><strong>Builder</strong> - Step-by-step complex object
construction</li>
</ol>
<h3 id="structural-patterns">Structural Patterns:</h3>
<ol start="4" type="1">
<li><strong>Decorator</strong> - Add functionality dynamically</li>
<li><strong>Adapter</strong> - Make incompatible interfaces work
together</li>
<li><strong>Facade</strong> - Simplified interface to complex
subsystem</li>
</ol>
<h3 id="behavioral-patterns">Behavioral Patterns:</h3>
<ol start="7" type="1">
<li><strong>Observer</strong> - One-to-many notification system</li>
<li><strong>Strategy</strong> - Interchangeable algorithms</li>
<li><strong>Command</strong> - Encapsulate requests with undo/redo</li>
<li><strong>Chain of Responsibility</strong> - Pass requests through
handler chain</li>
<li><strong>Template Method</strong> - Define algorithm skeleton</li>
<li><strong>State</strong> - Change behavior based on state</li>
</ol>
<h3 id="architectural-patterns">Architectural Patterns:</h3>
<ol start="13" type="1">
<li><strong>Repository</strong> - Data access abstraction</li>
<li><strong>Dependency Injection</strong> - Loose coupling through
IoC</li>
</ol>
<p>Each example includes complete, runnable code with practical use
cases. You can copy any of these directly into your C# projects and run
them. They demonstrate real-world scenarios like payment processing,
order management, file conversion, and more!</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/65b6b29c871b83018af70c9a.png" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/65b6b29c871b83018af70c9a.png" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">sparkle520</div><div class="post-copyright__author_desc">æˆ‘ä¸€ç›´éƒ½åœ¨å¯»æ‰¾ç€ä»€ä¹ˆ</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="http://example.com/2025/10/01/csharp_design/">åŸåˆ›</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/10/01/csharp_design/')">C# Design Patterns-Complete Guide with Code</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/10/01/csharp_design/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=C# Design Patterns-Complete Guide with Code&amp;url=http://example.com/2025/10/01/csharp_design/&amp;pic=https://pic1.imgdb.cn/item/6906119e3203f7be00bfb68a.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">SPARKLE</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/c/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>c#<span class="tagsPageCount">2</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://pic1.imgdb.cn/item/6954ea8a8801094e3ab4fd8b.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/09/23/csharp%E7%AC%94%E8%AE%B0/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/68d363acc5157e1a882c5be1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">c# ç¬”è®°</div></div></a></div><div class="next-post pull-right"><a href="/2025/10/26/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%80%BB%E8%BE%91%E5%85%B3%E7%B3%BB%E8%AF%8D/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/68fdd3d63203f7be00a050f9.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å¸¸è§çš„é€»è¾‘å…³ç³»è¯</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>å–œæ¬¢è¿™ç¯‡æ–‡ç« çš„äººä¹Ÿçœ‹äº†</span></div><div class="relatedPosts-list"><div><a href="/2025/09/23/csharp%E7%AC%94%E8%AE%B0/" title="c# ç¬”è®°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/68d363acc5157e1a882c5be1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-23</div><div class="title">c# ç¬”è®°</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> è¯„è®º</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">åŒ¿åè¯„è®º</a><a href="/privacy" style="margin-left: 4px">éšç§æ”¿ç­–</a></div><div class="comment-tips" id="comment-tips"><span>âœ… ä½ æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¯„è®ºä»¥è·å–æœ€ä½³å±•ç¤ºæ•ˆæœ</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/65b6b29c871b83018af70c9a.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/671cfe2fd29ded1a8c5ffb0b.png" alt="status"/></div></div><div class="author-info__description">ä¸ç®¡ä½ åœ¨<strong style="color:white">è¿™ä¸ªä¸–ç•Œ</strong>çš„å“ªä¸ªåœ°æ–¹ï¼Œæˆ‘ä¸€å®š<strong style="color:white">ä¼š</strong>ï¼Œå†æ¬¡å»<strong style="color:white">è§</strong>ä½ çš„!</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">sparkle520</h1><div class="author-info__desc">æˆ‘ä¸€ç›´éƒ½åœ¨å¯»æ‰¾ç€ä»€ä¹ˆ</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/sparkle520" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/34882250" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">Hello World! æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢~</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://pic.imgdb.cn/item/66c487f1d9c307b7e9ba5c7a.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://pic.imgdb.cn/item/66c487ebd9c307b7e9ba5725.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#c-design-patterns---complete-guide-with-code"><span class="toc-number">1.</span> <span class="toc-text">C# Design Patterns
- Complete Guide with Code</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#singleton-pattern"><span class="toc-number">2.</span> <span class="toc-text">Singleton Pattern</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#factory-pattern"><span class="toc-number">2.1.</span> <span class="toc-text">Factory Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#observer-pattern"><span class="toc-number">2.2.</span> <span class="toc-text">Observer Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#strategy-pattern"><span class="toc-number">2.3.</span> <span class="toc-text">Strategy Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#decorator-pattern"><span class="toc-number">2.4.</span> <span class="toc-text">Decorator Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#repository-pattern"><span class="toc-number">2.5.</span> <span class="toc-text">Repository Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#adapter-pattern"><span class="toc-number">2.6.</span> <span class="toc-text">Adapter Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#builder-pattern"><span class="toc-number">2.7.</span> <span class="toc-text">Builder Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dependency-injection-pattern"><span class="toc-number">2.8.</span> <span class="toc-text">Dependency Injection Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#command-pattern"><span class="toc-number">2.9.</span> <span class="toc-text">Command Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chain-of-responsibility-pattern"><span class="toc-number">2.10.</span> <span class="toc-text">Chain of Responsibility
Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#facade-pattern"><span class="toc-number">2.11.</span> <span class="toc-text">Facade Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#template-method-pattern"><span class="toc-number">2.12.</span> <span class="toc-text">Template Method Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#state-pattern"><span class="toc-number">2.13.</span> <span class="toc-text">State Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#summary"><span class="toc-number">2.14.</span> <span class="toc-text">Summary</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#creational-patterns"><span class="toc-number">2.14.1.</span> <span class="toc-text">Creational Patterns:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#structural-patterns"><span class="toc-number">2.14.2.</span> <span class="toc-text">Structural Patterns:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#behavioral-patterns"><span class="toc-number">2.14.3.</span> <span class="toc-text">Behavioral Patterns:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#architectural-patterns"><span class="toc-number">2.14.4.</span> <span class="toc-text">Architectural Patterns:</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/31/%E8%AE%A1%E7%BB%841/" title="408-è®¡ç®—æœºç»„æˆåŸç†-1-è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/6954ea8a8801094e3ab4fd8b.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="408-è®¡ç®—æœºç»„æˆåŸç†-1-è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°"/></a><div class="content"><a class="title" href="/2025/12/31/%E8%AE%A1%E7%BB%841/" title="408-è®¡ç®—æœºç»„æˆåŸç†-1-è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°">408-è®¡ç®—æœºç»„æˆåŸç†-1-è®¡ç®—æœºç³»ç»Ÿæ¦‚è¿°</a><time datetime="2025-12-31T15:00:27.000Z" title="å‘è¡¨äº 2025-12-31 23:00:27">2025-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/29/%E6%97%B6%E5%BA%8F%E5%9B%BE/" title="Mermaid æ—¶åºå›¾ ( Sequence Diagram ) ç»˜åˆ¶æŒ‡å—"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/694ce28fe1fec22f27d62e42.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mermaid æ—¶åºå›¾ ( Sequence Diagram ) ç»˜åˆ¶æŒ‡å—"/></a><div class="content"><a class="title" href="/2025/12/29/%E6%97%B6%E5%BA%8F%E5%9B%BE/" title="Mermaid æ—¶åºå›¾ ( Sequence Diagram ) ç»˜åˆ¶æŒ‡å—">Mermaid æ—¶åºå›¾ ( Sequence Diagram ) ç»˜åˆ¶æŒ‡å—</a><time datetime="2025-12-29T15:00:27.000Z" title="å‘è¡¨äº 2025-12-29 23:00:27">2025-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/29/%E6%B5%81%E7%A8%8B%E5%9B%BE/" title="Mermaid æµç¨‹å›¾ ( Flowchart ) ç»˜åˆ¶æŒ‡å—"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/694c121e26657af64c6d8a6d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mermaid æµç¨‹å›¾ ( Flowchart ) ç»˜åˆ¶æŒ‡å—"/></a><div class="content"><a class="title" href="/2025/12/29/%E6%B5%81%E7%A8%8B%E5%9B%BE/" title="Mermaid æµç¨‹å›¾ ( Flowchart ) ç»˜åˆ¶æŒ‡å—">Mermaid æµç¨‹å›¾ ( Flowchart ) ç»˜åˆ¶æŒ‡å—</a><time datetime="2025-12-29T15:00:27.000Z" title="å‘è¡¨äº 2025-12-29 23:00:27">2025-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/29/%E7%94%98%E7%89%B9%E5%9B%BE/" title="Mermaid ç”˜ç‰¹å›¾ ( Gantt Diagram )  ç»˜åˆ¶æŒ‡å—"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/694c06e626657af64c6d7b33.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mermaid ç”˜ç‰¹å›¾ ( Gantt Diagram )  ç»˜åˆ¶æŒ‡å—"/></a><div class="content"><a class="title" href="/2025/12/29/%E7%94%98%E7%89%B9%E5%9B%BE/" title="Mermaid ç”˜ç‰¹å›¾ ( Gantt Diagram )  ç»˜åˆ¶æŒ‡å—">Mermaid ç”˜ç‰¹å›¾ ( Gantt Diagram )  ç»˜åˆ¶æŒ‡å—</a><time datetime="2025-12-29T15:00:27.000Z" title="å‘è¡¨äº 2025-12-29 23:00:27">2025-12-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/26/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F5/" title="408-æ“ä½œç³»ç»Ÿ-5-è¾“å…¥/è¾“å‡ºç®¡ç†"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic1.imgdb.cn/item/69492e4cc154427986d9be8f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="408-æ“ä½œç³»ç»Ÿ-5-è¾“å…¥/è¾“å‡ºç®¡ç†"/></a><div class="content"><a class="title" href="/2025/12/26/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F5/" title="408-æ“ä½œç³»ç»Ÿ-5-è¾“å…¥/è¾“å‡ºç®¡ç†">408-æ“ä½œç³»ç»Ÿ-5-è¾“å…¥/è¾“å‡ºç®¡ç†</a><time datetime="2025-12-26T15:00:27.000Z" title="å‘è¡¨äº 2025-12-26 23:00:27">2025-12-26</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#footer-type-tips", {
      strings: ["åªè¦è®°ä½ä½ çš„åå­—&#44; ä¸ç®¡ä½ åœ¨ä¸–ç•Œçš„å“ªä¸ªåœ°æ–¹&#44; æˆ‘ä¸€å®š&#44; ä¼šå»è§ä½  !"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("footer-type-tips").innerHTML = 'åªè¦è®°ä½ä½ çš„åå­—&#44; ä¸ç®¡ä½ åœ¨ä¸–ç•Œçš„å“ªä¸ªåœ°æ–¹&#44; æˆ‘ä¸€å®š&#44; ä¼šå»è§ä½  !'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/sparkle520" title="sparkle">sparkle</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">78</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">51</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">7</div></a></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="æ˜¾ç¤ºæ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/sparkle520?tab=repositories" title="github"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="github"/><span class="back-menu-item-text">github</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> å°ç©ºè°ƒ</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/408/" style="font-size: 0.88rem;">408<sup>6</sup></a><a href="/tags/AOP/" style="font-size: 0.88rem;">AOP<sup>1</sup></a><a href="/tags/Deep-Learning/" style="font-size: 0.88rem;">Deep Learning<sup>1</sup></a><a href="/tags/IoC/" style="font-size: 0.88rem;">IoC<sup>1</sup></a><a href="/tags/JSR303/" style="font-size: 0.88rem;">JSR303<sup>1</sup></a><a href="/tags/Matplotlib/" style="font-size: 0.88rem;">Matplotlib<sup>3</sup></a><a href="/tags/Mermaid/" style="font-size: 0.88rem;">Mermaid<sup>3</sup></a><a href="/tags/c/" style="font-size: 0.88rem;">c#<sup>2</sup></a><a href="/tags/java/" style="font-size: 0.88rem;">java<sup>4</sup></a><a href="/tags/npc%E5%88%86%E6%9E%90%E6%B3%95/" style="font-size: 0.88rem;">npcåˆ†ææ³•<sup>1</sup></a><a href="/tags/python/" style="font-size: 0.88rem;">python<sup>5</sup></a><a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 0.88rem;">äº‹åŠ¡<sup>1</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E3%80%82/" style="font-size: 0.88rem;">ä½ çš„åå­—ã€‚<sup>3</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E5%90%8C%E5%90%8D%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">ä½ çš„åå­—åŒåå°è¯´<sup>1</sup></a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%90%8D%E5%AD%97%E5%A4%96%E4%BC%A0%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">ä½ çš„åå­—å¤–ä¼ å°è¯´<sup>1</sup></a><a href="/tags/%E5%86%99%E4%BD%9C/" style="font-size: 0.88rem;">å†™ä½œ<sup>4</sup></a><a href="/tags/%E5%8C%85%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">åŒ…ç®¡ç†<sup>1</sup></a><a href="/tags/%E5%8D%B7%E7%A7%AF%E5%85%AC%E5%BC%8F/" style="font-size: 0.88rem;">å·ç§¯å…¬å¼<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%B0%94%E4%B9%8B%E5%AD%90/" style="font-size: 0.88rem;">å¤©æ°”ä¹‹å­<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%B0%94%E4%B9%8B%E5%AD%90%E5%90%8C%E5%90%8D%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">å¤©æ°”ä¹‹å­åŒåå°è¯´<sup>1</sup></a><a href="/tags/%E5%AE%9A%E7%A7%AF%E5%88%86/" style="font-size: 0.88rem;">å®šç§¯åˆ†<sup>1</sup></a><a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 0.88rem;">å°è¯´<sup>3</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">æ“ä½œç³»ç»Ÿ<sup>5</sup></a><a href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">æ•ˆç‡å·¥å…·<sup>3</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C/" style="font-size: 0.88rem;">æ•°æ®æ ¡éªŒ<sup>1</sup></a><a href="/tags/%E6%97%B6%E5%BA%8F%E5%9B%BE/" style="font-size: 0.88rem;">æ—¶åºå›¾<sup>1</sup></a><a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/" style="font-size: 0.88rem;">æ¦‚ç‡è®º<sup>1</sup></a><a href="/tags/%E6%A6%82%E7%8E%87%E8%AE%BA%E4%B8%8E%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/" style="font-size: 0.88rem;">æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡<sup>7</sup></a><a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 0.88rem;">æ±‡ç¼–<sup>9</sup></a><a href="/tags/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80/" style="font-size: 0.88rem;">æ³°å‹’å±•å¼€<sup>1</sup></a><a href="/tags/%E6%B5%81%E7%A8%8B%E5%9B%BE/" style="font-size: 0.88rem;">æµç¨‹å›¾<sup>1</sup></a><a href="/tags/%E7%89%B9%E5%BE%81%E5%80%BC/" style="font-size: 0.88rem;">ç‰¹å¾å€¼<sup>1</sup></a><a href="/tags/%E7%89%B9%E5%BE%81%E5%90%91%E9%87%8F/" style="font-size: 0.88rem;">ç‰¹å¾å‘é‡<sup>1</sup></a><a href="/tags/%E7%94%98%E7%89%B9%E5%9B%BE/" style="font-size: 0.88rem;">ç”˜ç‰¹å›¾<sup>1</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 0.88rem;">è‹±è¯­<sup>2</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 0.88rem;">è‹±è¯­è¯­æ³•<sup>11</sup></a><a href="/tags/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%EF%BC%8C%E5%80%92%E8%A3%85%E7%BB%93%E6%9E%84%EF%BC%8C%E8%AF%AD%E6%B3%95%E8%BF%9B%E9%98%B6/" style="font-size: 0.88rem;">è‹±è¯­è¯­æ³•ï¼Œå€’è£…ç»“æ„ï¼Œè¯­æ³•è¿›é˜¶<sup>1</sup></a><a href="/tags/%E8%AF%8D%E6%A0%B9%E8%AF%8D%E7%BC%80/" style="font-size: 0.88rem;">è¯æ ¹è¯ç¼€<sup>1</sup></a><a href="/tags/%E9%AB%98%E7%AD%89%E4%BB%A3%E6%95%B0/" style="font-size: 0.88rem;">é«˜ç­‰ä»£æ•°<sup>2</sup></a><a href="/tags/%E9%AB%98%E7%AD%89%E6%95%B0%E5%AD%A6/" style="font-size: 0.88rem;">é«˜ç­‰æ•°å­¦<sup>8</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch-commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="å¼€å…³å¼¹å¹•"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.cbd.int/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.cbd.int/mermaid@10.9.1/dist/mermaid.min.js').then(runMermaid)
  }

  anzhiyu.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://sparkle521.xyz',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://sparkle521.xyz',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"><script async src="/js/anzhiyu/comment_barrage.js"></script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://sparkle521.xyz',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><div><canvas id="snow" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:99999;pointer-events:none"></canvas></div><script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script><script async type="text/javascript" src="https://cdn.jsdelivr.net/gh/Candinya/Kratos-Rebirth@latest/source/js/snow.min.js"></script><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">é€šçŸ¥</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">ä½ å¥½å‘€</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>